<!DOCTYPE html>
<html>
<head>
    <title>Digi School Chat</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #chat { border: 1px solid #ccc; height: 400px; overflow-y: scroll; padding: 10px; margin: 10px 0; }
        .message { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .user { background: #e3f2fd; text-align: right; }
        .bot { background: #f5f5f5; }
        #input { width: 70%; padding: 10px; }
        button { padding: 10px 20px; }
    </style>
</head>
<body>
    <h1>Digi School Agent</h1>
    <div id="chat"></div>
    <input type="text" id="input" placeholder="Ask about homework, announcements, or notes...">
    <button onclick="sendMessage()">Send</button>
    
    <script>
        function addMessage(text, isUser) {
            const chat = document.getElementById('chat');
            const div = document.createElement('div');
            div.className = 'message ' + (isUser ? 'user' : 'bot');
            div.textContent = text;
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
        }
        
        async function sendMessage() {
            const input = document.getElementById('input');
            const message = input.value.trim();
            if (!message) return;
            
            addMessage(message, true);
            input.value = '';
            
            // Simple responses based on keywords
            let response = "I can help you with school operations. Try asking about homework, announcements, or notes.";
            
            if (message.toLowerCase().includes('homework')) {
                if (message.toLowerCase().includes('november 5')) {
                    response = "Found 2 homework assignments for November 5th:\n- Mathematics: Algebra Practice Problems\n- English: Essay Writing Assignment";
                } else if (message.toLowerCase().includes('today')) {
                    response = "Today's homework:\n- Maths: Geometry Problems";
                } else {
                    response = "I can show homework by date. Try 'Show homework for November 5th' or 'Show today's homework'";
                }
            } else if (message.toLowerCase().includes('announcement')) {
                response = "This week's announcements:\n- Parent-Teacher Meeting scheduled for next Friday\n- Annual Day Celebration event";
            } else if (message.toLowerCase().includes('update') && message.toLowerCase().includes('title')) {
                response = "I can help update homework titles. Which homework would you like to update?";
            } else if (message.toLowerCase().includes('remove') && message.toLowerCase().includes('announcement')) {
                response = "I can help remove announcements. Which announcement should I remove?";
            } else if (message.toLowerCase().includes('upload') && message.toLowerCase().includes('notes')) {
                response = "I can help upload new notes. Please provide: Class, Subject, and Title for the notes.";
            }
            
            setTimeout(() => addMessage(response, false), 500);
        }
        
        document.getElementById('input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
        
        // Welcome message
        addMessage("Hello! I'm your Digi School Agent. I can help with homework, announcements, and notes. What would you like to know?", false);
    </script>
</body>
</html>